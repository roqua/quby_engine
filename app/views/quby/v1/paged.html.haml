:javascript
  window.panel_validations = {};
  // for setting values of raw_content
  window.extra_question_values = #{@answer.extra_question_values};
  // for showing validations of raw content
  window.extra_failed_validations = #{@answer.extra_failed_validations};
  window.text_vars = #{@answer.textvars.to_json};

- content_for(:page_title, @questionnaire.title)
- content_for(:extra_css, @questionnaire.extra_css)

- target = params[:target_top] ? "_top" : nil

- form_classes = [@questionnaire.key, "paged"]
= form_tag questionnaire_answer_path(@questionnaire, @answer), :method => :put, :target => target, :class => form_classes, :autocomplete => "off", remote: true do
  = render :partial => "quby/v1/session_params"
  = render :partial => "quby/v1/paged/panel", :collection => @questionnaire.panels, :locals => {:panels => @questionnaire.panels, :questionnaire => @questionnaire}

- if @questionnaire.leave_page_alert
  #leave_page_alert.hidden= @questionnaire.leave_page_alert

= render :partial => "quby/v1/shared/footer_javascript", locals: {answer: @answer}
= render :partial => "quby/v1/modal_iframe"

