/ Begin _panel.html.haml

- classes = ['panel', 'hidden']
- if panel_counter == 0
  - classes << ['first']
- if panel_counter == panels.length-1
  - classes << 'last-panel'

%fieldset{:id => "panel#{panel_counter}", :class => classes}
  = render :partial => "quby/answers/hotkey_dialog"
  
  :javascript
    panel_validations["panel#{panel_counter}"] = #{get_validation_json(panel.validations)};

  /.panel_index= panel_counter + 1
  
  - if panel.title
    %h1&= panel.title

  = render :partial => "quby/answers/paged/item", :collection => panel.items

  .buttons
    - if panel_counter == 0 and @questionnaire.enable_previous_questionnaire_button
      .back
        = submit_tag raw("&larr; Vorige vragenlijst"), :id => "back"
    - else
      .prev
        = submit_tag raw("&larr; Vorige vraag"), :id => "prevButton#{panel_counter}"
    
    .abort
      - if questionnaire.abortable 
        = submit_tag "Onderbreken", :id => "abortButton#{panel_counter}"
      - else
        &nbsp; 
    
    - if panel_counter < panels.length - 1
      .next
        = submit_tag raw("Volgende vraag &rarr;"), :id => "nextButton#{panel_counter}"
    - else
      .save
        = submit_tag "Klaar", :id => "done-button"
        
    - if panel_counter == panels.length - 1
      .print
        %a.print_button{:onclick => raw("doDivPrint('#{print_questionnaire_answer_path(@questionnaire, @answer)}'); return false;")}
          = image_tag "quby/print.gif"
          Print Antwoorden
        
        
/ End _panel.html.haml
